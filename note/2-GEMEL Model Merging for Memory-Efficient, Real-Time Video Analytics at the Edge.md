# GEMEL: Model Merging for Memory-Efficient, Real-Time Video Analytics at the Edge

当前视频分析的边缘GPU不足以容纳越来越多（越来越复杂）的实时推理模型的内存，且现有解决方案无法解决上述问题。

- 提出了一种新的内存管理技术，模型合并（model merging），通过明智地共享边缘视觉模型的层（包括权重）来利用边缘视觉模型的架构相似性，以减少工作负载内存成本和交换延迟。
- GEMEL系统
  - 利用每个模型的内存使用情况和层间依赖性的观察结构，确定有效和准确的合并配置
  - 更改边缘推理方案以最大化合并利益，有效将合并纳入现有管道

目前存在的问题：

- GPU内存不能满足DNN迅速增长的内存需求
- 现有的GPU内存管理技术不足以进行边缘视频分析，导致19%-84%的帧被跳过，导致准确度下降（主要因为视觉DNN加载到GPU内存即交换所花费时间成本太高）
- 目前对视频分析推理的GPU内存管理的探索较少

模型合并

- 基于作者在视觉分析的发现，即视觉DNN共享大量在架构上（不包括权重）相同的层
- 目标是在工作负载中的模型中共享架构相同的层，这样一来，每个共享层只有一个副本（即一组权重）必须加载到GPU内存的所有模型中。
- 合并既减少了运行工作负载所需的交换次数（通过减少整体内存占用），也减少了每次交换的成本（通过降低加载到GPU内存的新数据量）。
- 共享层的数量与再训练期间达到的准确度之间存在着反比关系
  - 共享层使用统一的权重，其他层则必须在再训练期间相应地调整它们的权重
  - 共享层越多，其他层（越少）就越难找到权重来适应约束并成功学习目标函数
  - 很难确定合适的层用来合并：（1）很难准确预测在发生违反准确率的情况之前有多少层可以共享，（2）每个重新训练的实例都很昂贵。

GEMEL系统

- GEMEL是一个端到端系统，通过自动寻找和利用用户注册的视觉DNN之间的合并关系，将模型合并考虑进边缘视频分析
- GRMRL遵循增量的合并过程，在每次迭代中尝试共享一个额外的层并有限考虑少数内存占用大的层
- 每次迭代结束后，GEMEL将产生的合并模型部署到适当的边缘服务器，并仔细改变时间/空间共享调度器以最大化合并效益，即通过组织合并模型来减少交换的数量，以及每个交换的延迟。

