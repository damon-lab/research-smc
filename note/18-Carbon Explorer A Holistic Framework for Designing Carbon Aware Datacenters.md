# Carbon Explorer: A Holistic Framework for Designing Carbon Aware Datacenters

2023 ASPLOS Meta

## **研究背景**

科技公司通过投资可再生能源发电并从购电协议中获得碳汇，抵扣数据中心的碳足迹。数据中心每年都会用发电积分抵消他们的能源消耗（净零）。当无碳能源稀缺时，数据中心经常从电网中消耗碳密集型能源。在每小时（24/7）依靠间歇性可再生能源，需要混合使用来自补充来源的可再生能源、能源储存和工作负载调度。在本文中，我们提出了Carbon Explorer框架来分析解决方案的空间。我们使用Carbon Explorer来平衡**运营和碳体现之间**的权衡，根据地理位置和工作负载，优化24/7无碳数据中心运营的解决方案组合。

联合国的《24/7无碳能源契约》呼吁："**每一千瓦时的电力消耗都要用无碳电源来满足，每一天的每一个小时，每一个地方**" 。全天候的无碳计算仍然具有挑战性，因为可再生能源的供应是波动的。

在这些条件下，尽管实现了净零排放，数据中心还是会消耗碳密集型能源。数据中心通过对风能和太阳能农场的投资，为每一兆瓦时的产生提供了可再生能源信用。当无碳供应（来自风能或太阳能）不足时，数据中心继续通过消耗碳密集型能源（来自天然气或煤）来排放碳。因此，必须做更多工作来消除计算的每小时碳排放。

**可持续性设计空间**

架构师对电力基础设施进行优化，在电力限制条件下最大化性能和利用率。架构师必须首先定义应对间歇性可再生能源的参数化解决方案。而且他们需要揭示这些解决方案的碳效率组合的工具。

- 需求响应
  - 使可再生能源供应和数据中心的能源需求保持一致
- 能源储存
  - 减少对供应波动的暴露

- 对风能和太阳能的进一步投资提供了更多的无碳能源

上述解决措施都会对基础设施产生影响。当无碳能源充足时，数据中心将需要额外的服务器来执行额外的计算，需要比今天的电力基础设施大得多的电池，以及反映数据中心位置和风能和太阳能的相对可用性的能源生产投资。**所有这些基础设施都会产生碳排放成本，这是数据中心可持续发展的一个重要方面，但没有得到充分的探讨。**



## **研究问题**

当前数据中心碳排放优化的研究没有考虑增加基础设施所产生的碳排放成本。Carbon Explorer 对数据中心的设计采取了一种全面的方法，平衡了操作碳的减少与制造服务器、电池和风力/太阳能发电站时产生的内含碳的增加。尽管它寻求最大化使用无碳能源的小时数（即覆盖率），但Carbon Explorer 偶尔会发现，碳的体现成本超过了操作碳的减少，并确定了一个不能实现100%覆盖率但碳最优的解决方案。



## **研究方法**

文章评估了三种不同的24/7无碳数据中心的解决方案

- 投资可再生能源设施抵消能源消耗，如风能和太阳能农场
- 数据中心可以安装能源储存和电池来处理可再生能源的间歇性供应，如锂离子电池，On-site energy storage

- 数据中心可以根据可再生能源的供应情况来安排计算。

电网的需求和供应特点

- 数据中心的电力变化中，供应大于需求，可以通过转移计算来调节数据中心的电力
- 数据中心电网供应的特点
  - 数据中心运营商与公用事业供应商合作，在为数据中心供电的电网上**投资可再生能源**，通过复杂的会计框架来购买能源，跟踪可再生能源信用（PPAs RECs）
  - 数据中心通过优化每小时的供应和需求，全天候使用可再生能源。随着太阳能和风电场的增加，能源供应的高峰和低谷将变得越来越极端。公用事业供应商将发现越来越难使其供应与消费者的需求相匹配。例如，加州的可再生资源在一天中产生的电力可能远远超过需要。在可再生能源不能提供时通过储能来提供无碳能源。

数据中心的设计：无碳计算的策略

- 可再生能源：要达到可再生能源的100%覆盖，随着覆盖率增加，曲线扁平，投资可再生能源发电的边际效应递减。从95%到99.9%的可再生能源发电的投资比从0%到95%的覆盖率要多5倍以上。Carbon Explorer在确定可再生能源发电的投资时，需要**细粒度的时间序列供需数据**。

- 电池储能：Carbon Explorer如何评估由可再生能源充电并由数据中心服务器放电的电池的影响。考虑数据中心现场部署电池（on-sites）当可再生能源供应大于数据中心的需求时，电池将被充电。当有可再生能源供应不足时，电池将被放电给数据中心供电。太阳能和风能混合发电地区需要较少的电池容量实现全天候的无碳计算。

- 碳感知调度：碳感知调度（CAS）利用容许延迟的工作负载来实现全天候的无碳计算，将工作负载从电力来源的碳强度高的时候转移到碳强度低的时候。

  当无碳能源充足时，跨时间的计算转移需要额外的服务器容量来持续增加计算量。增加供应的服务器数量可以通过允许需求响应和减少其碳强度来减轻数据中心的碳足迹。过度配置的服务器会增加硬件制造的体现碳排放。因此，在运营和资本支出之间存在着一个微妙的平衡。





Carbon Explorer需要为其运营和体现碳的模型提供**输入**。**运营输入**包括**每小时的数据中心电力需求和可再生电力供应**。**体现的输入**（emboied input）包括**制造过程中的碳排放以及太阳能和风力发电站、锂离子电池和数据中心服务器的预期寿命**。Carbon Explorer以最大限度地减少运行和内含碳的总和。设计空间包括三种解决方案--**可再生能源、电池、服务器投资**。

整体分析

四种策略：单独的可再生能源发电，带有电池的可再生能源，带有碳意识调度的可再生能源，以及带有电池和碳意识调度的可再生能源。

该空间包括可以显著减少数据中心的整体碳足迹的解决方案。操作碳的减少会引起体现碳的增加。

帕累托前沿表明，任何实现24/7无碳运营（即零运营碳）的解决方案必须包括**可再生能源和电池**。此外，随着24/7覆盖率的增加，包括电池的解决方案将比仅仅依靠可再生能源和/或部署额外的服务器来支持碳意识调度的解决方案产生更小的碳体现成本。

## **研究结论**



