# Building Cost Efficient Cloud Data Centers via Geographical Load Balancing

背景：论文考虑了地理负载平衡（Geographical load balancing, GLB)）在地理上分散的数据中心（DC）之间的电价、本地绿色能源发电、传输延迟和成本等成本优化问题。

问题建模：构建基于**离线优化的框架**，考虑电力成本、带宽成本、延迟成本三者的权衡，并且DC分别按峰值电价和突发性计费来收取能耗和带宽使用成本。

问题求解：提出一种基于短期预测的机制（SPM），用于云提供商周期性推断请求分发策略。                                                                                                                                                                                                                                                           

- 电价存在时空差异性，并且数据中心对本地绿色能源发电进行了大量投资，地理分散的DC可以通过适当的需求响应策略（如地理负载平衡, GLB），利用电价差异和本地绿色能源发电差异性以降低总体电力成本
- 传输延迟和成本可能因地区而异，云提供商可以通过GLB有效降低其带宽和延迟成本
- 当前工作主要基于GLB降低云提供商的总体电力成本，但仅仅关注电力和延迟会导致过高的带宽成本，[7]考虑了基于预算的框架的带宽使用情况，但是当带宽设置得太低时，云提供商则需要牺牲电力或延迟成本
- 基于上述分析，文章提出一种基于**短期预测的机制（SPM）**，用于云提供商定期做出请求分发的决定，SPM的设计基于云提供商对请求和可再生能源发电量进行精确的短期预测的假设

该文章的创新点：

- 关注一个新兴的实际场景，云提供商按峰值定价和突发计费收费
  - 峰值定价：公用事业使用峰值定价向DC收取能源消耗费用，由两部分组成：能源费用和需求费用。峰值定价的用意在于激励DC降低峰值期间的电力使用
  - 突发计费：互联网服务提供商（ISP）通常采用突发计费，向云提供商收取DC间数据传输和DC与其用户之间数据传输的费用

![image-20230308200805651](C:\Users\苏铄淼\Desktop\论文笔记\8-1.png)

## 电力成本 Electricity Cost

峰值定价费用包括能源费用（视能源的总使用量而定）和需求费用（视计费周期内的峰值电力负荷而定），并且考虑了DC所投资的可再生能源发电量。

$P_i[t]$ 为DC i 的平均功耗，$G_i[t]$ 为DC i 产生的可再生能源发电量

![image-20230308201833063](C:\Users\苏铄淼\Desktop\论文笔记\8-2.png)

文章假设服务器的功耗随着CPU利用率的增加而线性增长，计算$P_i[t]$如下：

![image-20230308202447767](C:\Users\苏铄淼\Desktop\论文笔记\8-3.png)

在实际系统钟，为了最小化排队时延，DC更倾向于在所有活动服务器上均匀分布请求，故

![image-20230308202640958](C:\Users\苏铄淼\Desktop\论文笔记\8-4.png)

其中，λi[t]表示在时隙t调度到DC i的请求总数，ν表示服务器可处理的最大数量

## 带宽成本 Bandwidth Cost

为了避免意外的性能下降，假设DC处理请求所需的带宽不超过本文的阈值，即DC的带宽成本是基于其在计费周期期间的峰值带宽使用来决定的。

## ![image-20230308203028469](C:\Users\苏铄淼\Desktop\论文笔记\8-5.png)

## 延迟成本 Delay Cost

延迟包含：网络延迟和队列延迟。网络延迟测量从用户请求到DC的传输时间，队列延迟是请求在队列中等待直到可以处理为止的时间。

单位队列延迟：

![image-20230308203506038](C:\Users\苏铄淼\Desktop\论文笔记\8-6.png)

总延迟成本：

![image-20230308203609745](C:\Users\苏铄淼\Desktop\论文笔记\8-7.png)

## 基于短期预测的机制(SPM)

![image-20230308204317310](C:\Users\苏铄淼\Desktop\论文笔记\8-8.png)

在预测的公示中，为什么需要(12)和(13)需要减去$P_i^u[t]$和$B_i^u[t]$?

